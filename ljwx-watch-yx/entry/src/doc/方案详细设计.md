# 方案详细设计

      ## 整体流程
         系统有主进程， UI 进程和三个后台进程组成，主进程控制整个业务逻辑， UI 进程由自定义组件实现。三个后台进程一个用于蓝牙设备扫描、连接和数据交换，一个用于健康数据采集，一个用于http 数据上传，各个进程之间共享状态，根据不同状态给客户呈现不同 UI。
         UI 进程：应用启动显示开机动画，同时展示客户信息； 然后等待蓝牙扫描结果后，显示蓝牙设备列表供用户选择，将用户选择的设备传回给蓝牙进程， UI 读取浓度信息并在界面显示：如果甲烷超标则显示报警页面，只有两种气体信息则只显示甲烷和氧气的浓度信息，否则显示全部的五种气体浓度信息。
         蓝牙进程启动即打开扫描，设置扫描到的设备，等待接收用户选择的设备并开始连接，成功后发送健康信息给设备，同时读取浓度信息并在解析，然后设置气体浓度信息。
         
         
    

      ### 流程图

       ![image-20240518205000357](https://heguang-tech-1300607181.cos.ap-shanghai.myqcloud.com/uPic/image-20240518205000357.png)

     



